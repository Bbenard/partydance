function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function setCookie(e,t,o){var i=new Date;i.setTime(i.getTime()+864e5*o),document.cookie=e+"="+t+";path=/;expires="+i.toGMTString()}function wopen(e,t,o,i){i=i||"",t=t||640,o=o||350;var n=(window.screenLeft?window.screenLeft:window.screenX)+ww/2-t/2,a=(window.screenTop?window.screenTop:window.screenY)+wh/2-o/2-100;return 0>=a&&(a=20),window.open(e,i,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+t+",height="+o+",top="+a+",left="+n),!1}function resized(e){ww=$(window).innerWidth(),wh=$(window).innerHeight(),setCookie("client_width",ww,365);var t=$.colorbox.settings;$.colorbox.resize({width:ww>t.maxWidth?t.maxWidth:t.width,height:wh>t.maxHeight?t.maxHeight:t.height}),e||($(".autosize").not(".autosized").addClass("autosized").autosize({placeholder:0,callback:function(){setTimeout(function(){resized(!0)},150)}}),$(".autosize").trigger("autosize.resize"),(is_ie||is_safari)&&$("[placeholder]").not(".polyfilled").addClass("polyfilled").focus(function(){var e=$(this);e.hasClass("placeholder")&&e.caret(0)}).click(function(){var e=$(this);e.hasClass("placeholder")&&e.caret(0)}).keydown(function(){var e=$(this);e.hasClass("placeholder")&&(e.val(""),e.removeClass("placeholder"))}).blur(function(){var e=$(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.addClass("placeholder").val(e.attr("placeholder"))}).blur().parents("form").not(".polyfilled").addClass("polyfilled").submit(function(){$(this).find("[placeholder]").each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")})}))}function flexVideoGrid(e,t,o){$(".flex_grid.video").flexImages({rowHeight:e,maxRows:t,truncate:o}).find(".media").hover(function(){hover_media=$(this),hover_media_to=setTimeout(function(){hover_media.prepend('<video style="display:none" onplaying="$(this).addClass(\'playing\').show();" autoplay muted loop><source type="video/mp4" src="'+hover_media.data("video")+'"></video>')},300)},function(){$(this).find("video").remove(),clearTimeout(hover_media_to)})}function show_message(e,t,o,i){$(".message_box").remove();var n=$('<div class="message_box" onclick="$(this).remove();"><span style="opacity:.8;float:right;margin-right:8px;cursor:pointer;font-size:20px;line-height:1">×</span>'+e+"</div>");t&&n.addClass(t),i?n.css("position","relative").prependTo("body"):n.appendTo("body"),n.delay(o||4500).slideUp()}function show_support_overlay(){var e=$("#support_overlay"),t=$("#media_container > img");e.length&&t.width()>370&&t.height()>180?($("#img_click_overlay").hide(),e.show(),t.height()>470?(!function(e,t,o){var i,n=e.getElementsByTagName(t)[0];e.getElementById(o)||(i=e.createElement(t),i.id=o,i.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=114593902037957",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk"),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),!function(e,t,o){var i,n=e.getElementsByTagName(t)[0];e.getElementById(o)||(i=e.createElement(t),i.id=o,i.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(i,n))}(document,"script","twitter-wjs")):$(".hide_on_small_img").hide(),$("#media_show .overlay").fadeIn()):$("#media_show .overlay").fadeOut()}try{jQuery=django.jQuery,$=jQuery,LANG="en",I18N_DELETE="Really delete?"}catch(e){}var ua=navigator.userAgent.toLowerCase(),is_ie=~ua.indexOf("msie ")||~ua.indexOf("trident/"),is_safari=~ua.indexOf("safari")&&!~ua.indexOf("chrome"),ac_xhr,hover_media,hover_media_to,human_visitor;!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var o=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(o))}function o(t){var o=t.target,i=e(o);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;o=n[0]}var a=this;if(a.clk=o,"image"==o.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=i.offset();a.clk_x=t.pageX-r.left,a.clk_y=t.pageY-r.top}else a.clk_x=t.pageX-o.offsetLeft,a.clk_y=t.pageY-o.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function o(o){var i,n,a=e.param(o,t.traditional).split("&"),r=a.length,s=[];for(i=0;r>i;i++)a[i]=a[i].replace(/\+/g," "),n=a[i].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function r(i){for(var n=new FormData,a=0;a<i.length;a++)n.append(i[a].name,i[a].value);if(t.extraData){var r=o(t.extraData);for(a=0;a<r.length;a++)r[a]&&n.append(r[a][0],r[a][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(s.xhr=function(){var o=e.ajaxSettings.xhr();return o.upload&&o.upload.addEventListener("progress",function(e){var o=0,i=e.loaded||e.position,n=e.total;e.lengthComputable&&(o=Math.ceil(i/n*100)),t.uploadProgress(e,i,n,o)},!1),o}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,o){o.data=t.formData?t.formData:n,c&&c.call(this,e,o)},e.ajax(s)}function s(o){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(o){i("cannot get iframe.contentWindow document: "+o)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(o){i("cannot get iframe.contentDocument: "+o),t=e.document}return t}function r(){function t(){try{var e=n(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(o){i("Server abort: ",o," (",o.name,")"),s(C),_&&clearTimeout(_),_=void 0}}var o=u.attr2("target"),a=u.attr2("action"),r="multipart/form-data",c=u.attr("enctype")||u.attr("encoding")||r;$.setAttribute("target",p),(!l||/post/i.test(l))&&$.setAttribute("method","POST"),a!=h.url&&$.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(_=setTimeout(function(){y=!0,s(k)},h.timeout));var d=[];try{if(h.extraData)for(var f in h.extraData)h.extraData.hasOwnProperty(f)&&d.push(e.isPlainObject(h.extraData[f])&&h.extraData[f].hasOwnProperty("name")&&h.extraData[f].hasOwnProperty("value")?e('<input type="hidden" name="'+h.extraData[f].name+'">').val(h.extraData[f].value).appendTo($)[0]:e('<input type="hidden" name="'+f+'">').val(h.extraData[f]).appendTo($)[0]);h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{$.submit()}catch(m){var w=document.createElement("form").submit;w.apply($)}}finally{$.setAttribute("action",a),$.setAttribute("enctype",c),o?$.setAttribute("target",o):u.removeAttr("target"),e(d).remove()}}function s(t){if(!w.aborted&&!H){if(E=n(v),E||(i("cannot access response document"),t=C),t===k&&w)return w.abort("timeout"),void T.reject(w,"timeout");if(t==C&&w)return w.abort("server abort"),void T.reject(w,"error","server abort");if(E&&E.location.href!=h.iframeSrc||y){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var o,a="success";try{if(y)throw"timeout";var r="xml"==h.dataType||E.XMLDocument||e.isXMLDoc(E);if(i("isXml="+r),!r&&window.opera&&(null===E.body||!E.body.innerHTML)&&--D)return i("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=E.body?E.body:E.documentElement;w.responseText=l?l.innerHTML:null,w.responseXML=E.XMLDocument?E.XMLDocument:E,r&&(h.dataType="xml"),w.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(w.status=Number(l.getAttribute("status"))||w.status,w.statusText=l.getAttribute("statusText")||w.statusText);var c=(h.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||h.textarea){var u=E.getElementsByTagName("textarea")[0];if(u)w.responseText=u.value,w.status=Number(u.getAttribute("status"))||w.status,w.statusText=u.getAttribute("statusText")||w.statusText;else if(d){var p=E.getElementsByTagName("pre")[0],m=E.getElementsByTagName("body")[0];p?w.responseText=p.textContent?p.textContent:p.innerText:m&&(w.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!w.responseXML&&w.responseText&&(w.responseXML=L(w.responseText));try{S=A(w,c,h)}catch(x){a="parsererror",w.error=o=x||a}}catch(x){i("error caught: ",x),a="error",w.error=o=x||a}w.aborted&&(i("upload aborted"),a=null),w.status&&(a=w.status>=200&&w.status<300||304===w.status?"success":"error"),"success"===a?(h.success&&h.success.call(h.context,S,"success",w),T.resolve(w.responseText,"success",w),f&&e.event.trigger("ajaxSuccess",[w,h])):a&&(void 0===o&&(o=w.statusText),h.error&&h.error.call(h.context,w,a,o),T.reject(w,"error",o),f&&e.event.trigger("ajaxError",[w,h,o])),f&&e.event.trigger("ajaxComplete",[w,h]),f&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,w,a),H=!0,h.timeout&&clearTimeout(_),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),w.responseXML=null},100)}}}var c,d,h,f,p,g,v,w,x,b,y,_,$=u[0],T=e.Deferred();if(T.abort=function(e){w.abort(e)},o)for(d=0;d<m.length;d++)c=e(m[d]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,p="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),b=g.attr2("name"),b?p=b:g.attr2("name",p)):(g=e('<iframe name="'+p+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],w={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var o="timeout"===t?"timeout":"aborted";i("aborting upload... "+o),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(n){}g.attr("src",h.iframeSrc),w.error=o,h.error&&h.error.call(h.context,w,o,t),f&&e.event.trigger("ajaxError",[w,h,o]),h.complete&&h.complete.call(h.context,w,o)}},f=h.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[w,h]),h.beforeSend&&h.beforeSend.call(h.context,w,h)===!1)return h.global&&e.active--,T.reject(),T;if(w.aborted)return T.reject(),T;x=$.clk,x&&(b=x.name,b&&!x.disabled&&(h.extraData=h.extraData||{},h.extraData[b]=x.value,"image"==x.type&&(h.extraData[b+".x"]=$.clk_x,h.extraData[b+".y"]=$.clk_y)));var k=1,C=2,z=e("meta[name=csrf-token]").attr("content"),j=e("meta[name=csrf-param]").attr("content");j&&z&&(h.extraData=h.extraData||{},h.extraData[j]=z),h.forceSync?r():setTimeout(r,10);var S,E,H,D=50,L=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},I=e.parseJSON||function(e){return window.eval("("+e+")")},A=function(t,o,i){var n=t.getResponseHeader("content-type")||"",a="xml"===o||!o&&n.indexOf("xml")>=0,r=a?t.responseXML:t.responseText;return a&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(r=i.dataFilter(r,o)),"string"==typeof r&&("json"===o||!o&&n.indexOf("json")>=0?r=I(r):("script"===o||!o&&n.indexOf("javascript")>=0)&&e.globalEval(r)),r};return T}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),d="string"==typeof c?e.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var p,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,p=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);p&&(v=v?v+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var w=[];if(t.resetForm&&w.push(function(){u.resetForm()}),t.clearForm&&w.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var x=t.success||function(){};w.push(function(o){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](o).each(x,arguments)})}else t.success&&w.push(t.success);if(t.success=function(e,o,i){for(var n=t.context||this,a=0,r=w.length;r>a;a++)w[a].apply(n,[e,o,i||u,u])},t.error){var b=t.error;t.error=function(e,o,i){var n=t.context||this;b.apply(n,[e,o,i,u])}}if(t.complete){var y=t.complete;t.complete=function(e,o){var i=t.context||this;y.apply(i,[e,o,u])}}var _=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),$=_.length>0,T="multipart/form-data",k=u.attr("enctype")==T||u.attr("encoding")==T,C=n.fileapi&&n.formdata;i("fileAPI :"+C);var z,j=($||k)&&!C;t.iframe!==!1&&(t.iframe||j)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){z=s(g)}):z=s(g):z=($||k)&&C?r(g):e.ajax(t),u.removeData("jqxhr").data("jqxhr",z);for(var S=0;S<m.length;S++)m[S]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(n)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,o).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,o),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,o)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,o){var i=[];if(0===this.length)return i;var a,r=this[0],s=this.attr("id"),l=t?r.getElementsByTagName("*"):r.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),s&&(a=e(':input[form="'+s+'"]').get(),a.length&&(l=(l||[]).concat(a))),!l||!l.length)return i;var c,d,u,h,f,p,m;for(c=0,p=l.length;p>c;c++)if(f=l[c],u=f.name,u&&!f.disabled)if(t&&r.clk&&"image"==f.type)r.clk==f&&(i.push({name:u,value:e(f).val(),type:f.type}),i.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}));else if(h=e.fieldValue(f,!0),h&&h.constructor==Array)for(o&&o.push(f),d=0,m=h.length;m>d;d++)i.push({name:u,value:h[d]});else if(n.fileapi&&"file"==f.type){o&&o.push(f);var g=f.files;if(g.length)for(d=0;d<g.length;d++)i.push({name:u,value:g[d],type:f.type});else i.push({name:u,value:"",type:f.type})}else null!==h&&"undefined"!=typeof h&&(o&&o.push(f),i.push({name:u,value:h,type:f.type,required:f.required}));if(!t&&r.clk){var v=e(r.clk),w=v[0];u=w.name,u&&!w.disabled&&"image"==w.type&&(i.push({name:u,value:v.val()}),i.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var o=[];return this.each(function(){var i=this.name;if(i){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var a=0,r=n.length;r>a;a++)o.push({name:i,value:n[a]});else null!==n&&"undefined"!=typeof n&&o.push({name:this.name,value:n})}}),e.param(o)},e.fn.fieldValue=function(t){for(var o=[],i=0,n=this.length;n>i;i++){var a=this[i],r=e.fieldValue(a,t);null===r||"undefined"==typeof r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(o,r):o.push(r))}return o},e.fieldValue=function(t,o){var i=t.name,n=t.type,a=t.tagName.toLowerCase();if(void 0===o&&(o=!0),o&&(!i||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==a&&-1==t.selectedIndex))return null;if("select"==a){var r=t.selectedIndex;if(0>r)return null;for(var s=[],l=t.options,c="select-one"==n,d=c?r+1:l.length,u=c?r:0;d>u;u++){var h=l[u];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;s.push(f)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var o=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,n=this.tagName.toLowerCase();o.test(i)||"textarea"==n?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var o=this.type;if("checkbox"==o||"radio"==o)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(e,t,o){function i(o,i,n){var a=t.createElement(o);return i&&(a.id=Z+i),n&&(a.style.cssText=n),e(a)}function n(){return o.innerHeight?o.innerHeight:e(o).height()}function a(t,o){o!==Object(o)&&(o={}),this.cache={},this.el=t,this.value=function(t){var i;return void 0===this.cache[t]&&(i=e(this.el).attr("data-cbox-"+t),void 0!==i?this.cache[t]=i:void 0!==o[t]?this.cache[t]=o[t]:void 0!==V[t]&&(this.cache[t]=V[t])),this.cache[t]},this.get=function(t){var o=this.value(t);return e.isFunction(o)?o.call(this.el,this):o}}function r(e){var t=C.length,o=(X+e)%t;return 0>o?t+o:o}function s(e,t){return Math.round((/%/.test(e)?("x"===t?z.width():n())/100:1)*parseInt(e,10))}function l(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&o.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function d(e){"contains"in x[0]&&!x[0].contains(e.target)&&e.target!==w[0]&&(e.stopPropagation(),x.focus())}function u(e){u.str!==e&&(x.add(w).removeClass(u.str).addClass(e),u.str=e)}function h(t){X=0,t&&t!==!1&&"nofollow"!==t?(C=e("."+ee).filter(function(){var o=e.data(this,J),i=new a(this,o);return i.get("rel")===t}),X=C.index(W.el),-1===X&&(C=C.add(W.el),X=C.length-1)):C=e(W.el)}function f(o){e(t).trigger(o),se.triggerHandler(o)}function p(o){var n;if(!G){if(n=e(o).data(J),W=new a(o,n),h(W.get("rel")),!q){q=Y=!0,u(W.get("className")),x.css({visibility:"hidden",display:"block",opacity:""}),j=i(le,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),y.css({width:"",height:""}).append(j),M=_.height()+k.height()+y.outerHeight(!0)-y.height(),F=$.width()+T.width()+y.outerWidth(!0)-y.width(),N=j.outerHeight(!0),B=j.outerWidth(!0);var r=s(W.get("initialWidth"),"x"),l=s(W.get("initialHeight"),"y"),c=W.get("maxWidth"),p=W.get("maxHeight");W.w=(c!==!1?Math.min(r,s(c,"x")):r)-B-F,W.h=(p!==!1?Math.min(l,s(p,"y")):l)-N-M,j.css({width:"",height:W.h}),Q.position(),f(te),W.get("onOpen"),R.add(H).hide(),x.focus(),W.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",d,!0),se.one(ae,function(){t.removeEventListener("focus",d,!0)})),W.get("returnFocus")&&se.one(ae,function(){e(W.el).focus()})}var m=parseFloat(W.get("opacity"));w.css({opacity:m===m?m:"",cursor:W.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),W.get("closeButton")?O.html(W.get("close")).appendTo(y):O.appendTo("<div/>"),v()}}function m(){x||(U=!1,z=e(o),x=i(le).attr({id:J,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=i(le,"Overlay").hide(),E=e([i(le,"LoadingOverlay")[0],i(le,"LoadingGraphic")[0]]),b=i(le,"Wrapper"),y=i(le,"Content").append(H=i(le,"Title"),D=i(le,"Current"),A=e('<button type="button"/>').attr({id:Z+"Previous"}),I=e('<button type="button"/>').attr({id:Z+"Next"}),L=i("button","Slideshow"),E),O=e('<button type="button"/>').attr({id:Z+"Close"}),b.append(i(le).append(i(le,"TopLeft"),_=i(le,"TopCenter"),i(le,"TopRight")),i(le,!1,"clear:left").append($=i(le,"MiddleLeft"),y,T=i(le,"MiddleRight")),i(le,!1,"clear:left").append(i(le,"BottomLeft"),k=i(le,"BottomCenter"),i(le,"BottomRight"))).find("div div").css({"float":"left"}),S=i(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),R=I.add(A).add(D).add(L)),t.body&&!x.parent().length&&e(t.body).append(w,x.append(b,S))}function g(){function o(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return x?(U||(U=!0,I.click(function(){Q.next()}),A.click(function(){Q.prev()}),O.click(function(){Q.close()}),w.click(function(){W.get("overlayClose")&&Q.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;q&&W.get("escKey")&&27===t&&(e.preventDefault(),Q.close()),q&&W.get("arrowKey")&&C[1]&&!e.altKey&&(37===t?(e.preventDefault(),A.click()):39===t&&(e.preventDefault(),I.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+ee,o):e("."+ee).live("click."+Z,o)),!0):!1}function v(){var t,n,a,r=Q.prep,d=++ce;if(Y=!0,P=!1,f(re),f(oe),W.get("onLoad"),W.h=W.get("height")?s(W.get("height"),"y")-N-M:W.get("innerHeight")&&s(W.get("innerHeight"),"y"),W.w=W.get("width")?s(W.get("width"),"x")-B-F:W.get("innerWidth")&&s(W.get("innerWidth"),"x"),W.mw=W.w,W.mh=W.h,W.get("maxWidth")&&(W.mw=s(W.get("maxWidth"),"x")-B-F,W.mw=W.w&&W.w<W.mw?W.w:W.mw),W.get("maxHeight")&&(W.mh=s(W.get("maxHeight"),"y")-N-M,W.mh=W.h&&W.h<W.mh?W.h:W.mh),t=W.get("href"),K=setTimeout(function(){E.show()},100),W.get("inline")){var u=e(t);a=e("<div>").hide().insertBefore(u),se.one(re,function(){a.replaceWith(u)}),r(u)}else W.get("iframe")?r(" "):W.get("html")?r(W.get("html")):l(W,t)?(t=c(W,t),P=new Image,e(P).addClass(Z+"Photo").bind("error",function(){r(i(le,"Error").html(W.get("imgError")))}).one("load",function(){d===ce&&setTimeout(function(){var t;e.each(["alt","longdesc","aria-describedby"],function(t,o){var i=e(W.el).attr(o)||e(W.el).attr("data-"+o);i&&P.setAttribute(o,i)}),W.get("retinaImage")&&o.devicePixelRatio>1&&(P.height=P.height/o.devicePixelRatio,P.width=P.width/o.devicePixelRatio),W.get("scalePhotos")&&(n=function(){P.height-=P.height*t,P.width-=P.width*t},W.mw&&P.width>W.mw&&(t=(P.width-W.mw)/P.width,n()),W.mh&&P.height>W.mh&&(t=(P.height-W.mh)/P.height,n())),W.h&&(P.style.marginTop=Math.max(W.mh-P.height,0)/2+"px"),C[1]&&(W.get("loop")||C[X+1])&&(P.style.cursor="pointer",P.onclick=function(){Q.next()}),P.style.width=P.width+"px",P.style.height=P.height+"px",r(P)},1)}),P.src=t):t&&S.load(t,W.get("data"),function(t,o){d===ce&&r("error"===o?i(le,"Error").html(W.get("xhrError")):e(this).contents())})}var w,x,b,y,_,$,T,k,C,z,j,S,E,H,D,L,I,A,O,R,W,M,F,N,B,X,P,q,Y,G,K,Q,U,V={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title}},J="colorbox",Z="cbox",ee=Z+"Element",te=Z+"_open",oe=Z+"_load",ie=Z+"_complete",ne=Z+"_cleanup",ae=Z+"_closed",re=Z+"_purge",se=e("<a/>"),le="div",ce=0,de={},ue=function(){function e(){clearTimeout(r)}function t(){(W.get("loop")||C[X+1])&&(e(),r=setTimeout(Q.next,W.get("slideshowSpeed")))}function o(){L.html(W.get("slideshowStop")).unbind(l).one(l,i),se.bind(ie,t).bind(oe,e),x.removeClass(s+"off").addClass(s+"on")}function i(){e(),se.unbind(ie,t).unbind(oe,e),L.html(W.get("slideshowStart")).unbind(l).one(l,function(){Q.next(),o()}),x.removeClass(s+"on").addClass(s+"off")}function n(){a=!1,L.hide(),e(),se.unbind(ie,t).unbind(oe,e),x.removeClass(s+"off "+s+"on")}var a,r,s=Z+"Slideshow_",l="click."+Z;return function(){a?W.get("slideshow")||(se.unbind(ne,n),n()):W.get("slideshow")&&C[1]&&(a=!0,se.one(ne,n),W.get("slideshowAuto")?o():i(),L.show())}}();e[J]||(e(m),Q=e.fn[J]=e[J]=function(t,o){var i,n=this;if(t=t||{},e.isFunction(n))n=e("<a/>"),t.open=!0;else if(!n[0])return n;return n[0]?(m(),g()&&(o&&(t.onComplete=o),n.each(function(){var o=e.data(this,J)||{};e.data(this,J,e.extend(o,t))}).addClass(ee),i=new a(n[0],t),i.get("open")&&p(n[0])),n):n},Q.position=function(t,o){function i(){_[0].style.width=k[0].style.width=y[0].style.width=parseInt(x[0].style.width,10)-F+"px",y[0].style.height=$[0].style.height=T[0].style.height=parseInt(x[0].style.height,10)-M+"px"}var a,r,l,c=0,d=0,u=x.offset();if(z.unbind("resize."+Z),x.css({top:-9e4,left:-9e4}),r=z.scrollTop(),l=z.scrollLeft(),W.get("fixed")?(u.top-=r,u.left-=l,x.css({position:"fixed"})):(c=r,d=l,x.css({position:"absolute"})),d+=W.get("right")!==!1?Math.max(z.width()-W.w-B-F-s(W.get("right"),"x"),0):W.get("left")!==!1?s(W.get("left"),"x"):Math.round(Math.max(z.width()-W.w-B-F,0)/2),c+=W.get("bottom")!==!1?Math.max(n()-W.h-N-M-s(W.get("bottom"),"y"),0):W.get("top")!==!1?s(W.get("top"),"y"):Math.round(Math.max(n()-W.h-N-M,0)/2),x.css({top:u.top,left:u.left,visibility:"visible"}),b[0].style.width=b[0].style.height="9999px",a={width:W.w+B+F,height:W.h+N+M,top:c,left:d},t){var h=0;e.each(a,function(e){return a[e]!==de[e]?void(h=t):void 0}),t=h}de=a,t||x.css(a),x.dequeue().animate(a,{duration:t||0,complete:function(){i(),Y=!1,b[0].style.width=W.w+B+F+"px",b[0].style.height=W.h+N+M+"px",W.get("reposition")&&setTimeout(function(){z.bind("resize."+Z,Q.position)},1),e.isFunction(o)&&o()},step:i})},Q.resize=function(e){var t;q&&(e=e||{},e.width&&(W.w=s(e.width,"x")-B-F),e.innerWidth&&(W.w=s(e.innerWidth,"x")),j.css({width:W.w}),e.height&&(W.h=s(e.height,"y")-N-M),e.innerHeight&&(W.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(t=j.scrollTop(),j.css({height:"auto"}),W.h=j.height()),j.css({height:W.h}),t&&j.scrollTop(t),Q.position("none"===W.get("transition")?0:W.get("speed")))},Q.prep=function(o){function n(){return W.w=W.w||j.width(),W.w=W.mw&&W.mw<W.w?W.mw:W.w,W.w}function s(){return W.h=W.h||j.height(),W.h=W.mh&&W.mh<W.h?W.mh:W.h,W.h}if(q){var d,h="none"===W.get("transition")?0:W.get("speed");j.remove(),j=i(le,"LoadedContent").append(o),j.hide().appendTo(S.show()).css({width:n(),overflow:W.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(y),S.hide(),e(P).css({"float":"none"}),u(W.get("className")),d=function(){function o(){e.support.opacity===!1&&x[0].style.removeAttribute("filter")}var i,n,s=C.length;q&&(n=function(){clearTimeout(K),E.hide(),f(ie),W.get("onComplete")},H.html(W.get("title")).show(),j.show(),s>1?("string"==typeof W.get("current")&&D.html(W.get("current").replace("{current}",X+1).replace("{total}",s)).show(),I[W.get("loop")||s-1>X?"show":"hide"]().html(W.get("next")),A[W.get("loop")||X?"show":"hide"]().html(W.get("previous")),ue(),W.get("preloading")&&e.each([r(-1),r(1)],function(){var o,i=C[this],n=new a(i,e.data(i,J)),r=n.get("href");r&&l(n,r)&&(r=c(n,r),o=t.createElement("img"),o.src=r)})):R.hide(),W.get("iframe")?(i=t.createElement("iframe"),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),W.get("scrolling")||(i.scrolling="no"),e(i).attr({src:W.get("href"),name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0}).one("load",n).appendTo(j),se.one(re,function(){i.src="//about:blank"}),W.get("fastIframe")&&e(i).trigger("load")):n(),"fade"===W.get("transition")?x.fadeTo(h,1,o):o())},"fade"===W.get("transition")?x.fadeTo(h,0,function(){Q.position(0,d)}):Q.position(h,d)}},Q.next=function(){!Y&&C[1]&&(W.get("loop")||C[X+1])&&(X=r(1),p(C[X]))},Q.prev=function(){!Y&&C[1]&&(W.get("loop")||X)&&(X=r(-1),p(C[X]))},Q.close=function(){q&&!G&&(G=!0,q=!1,f(ne),W.get("onCleanup"),z.unbind("."+Z),w.fadeTo(W.get("fadeOut")||0,0),x.stop().fadeTo(W.get("fadeOut")||0,0,function(){x.hide(),w.hide(),f(re),j.remove(),setTimeout(function(){G=!1,f(ae),W.get("onClosed")},1)}))},Q.remove=function(){x&&(x.stop(),e[J].close(),x.stop(!1,!0).remove(),w.remove(),G=!1,x=null,e("."+ee).removeData(J).removeClass(ee),e(t).unbind("click."+Z).unbind("keydown."+Z))},Q.element=function(){return e(W.el)},Q.settings=V)}(jQuery,document,window),!function(e){var t,o={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',n=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],a=e(i).data("autosize",!0)[0];a.style.lineHeight="99px","99px"===e(a).css("lineHeight")&&n.push("lineHeight"),a.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},o,i||{}),a.parentNode!==document.body&&e(document.body).append(a),this.each(function(){function o(){var t,o=window.getComputedStyle?window.getComputedStyle(h,null):!1;o?(t=h.getBoundingClientRect().width,(0===t||"number"!=typeof t)&&(t=parseFloat(o.width)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){t-=parseFloat(o[i])})):t=f.width(),a.style.width=Math.max(t,0)+"px"}function r(){var r={};if(t=h,a.className=i.className,a.id=i.id,c=parseFloat(f.css("maxHeight")),e.each(n,function(e,t){r[t]=f.css(t)}),e(a).css(r).attr("wrap",f.attr("wrap")),o(),window.chrome){var s=h.style.width;h.style.width="0px",h.offsetWidth,h.style.width=s}}function s(){var e,n;t!==h?r():o(),a.value=!h.value&&i.placeholder?f.attr("placeholder")||"":h.value,a.value+=i.append||"",a.style.overflowY=h.style.overflowY,n=parseFloat(h.style.height),a.scrollTop=0,a.scrollTop=9e4,e=a.scrollTop,c&&e>c?(h.style.overflowY="scroll",
e=c):(h.style.overflowY="hidden",d>e&&(e=d)),e+=p,n!==e&&(h.style.height=e+"px",a.className=a.className,m&&i.callback.call(h,h),f.trigger("autosize.resized"))}function l(){clearTimeout(u),u=setTimeout(function(){var e=f.width();e!==v&&(v=e,s())},parseInt(i.resizeDelay,10))}var c,d,u,h=this,f=e(h),p=0,m=e.isFunction(i.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=f.width(),w=f.css("resize");f.data("autosize")||(f.data("autosize",!0),("border-box"===f.css("box-sizing")||"border-box"===f.css("-moz-box-sizing")||"border-box"===f.css("-webkit-box-sizing"))&&(p=f.outerHeight()-f.height()),d=Math.max(parseFloat(f.css("minHeight"))-p||0,f.height()),f.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===w?f.css("resize","none"):"both"===w&&f.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?f.on("input.autosize keyup.autosize",s):f.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):f.on("input.autosize",s),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),f.on("autosize.resize",s),f.on("autosize.resizeIncludeStyle",function(){t=null,s()}),f.on("autosize.destroy",function(){t=null,clearTimeout(u),e(window).off("resize",l),f.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}(jQuery||$),!function(e){e.fn.caret=function(e){var t=this[0],o="true"===t.contentEditable;if(0==arguments.length){if(window.getSelection){if(o){t.focus();var i=window.getSelection().getRangeAt(0),n=i.cloneRange();return n.selectNodeContents(t),n.setEnd(i.endContainer,i.endOffset),n.toString().length}return t.selectionStart}if(document.selection){if(t.focus(),o){var i=document.selection.createRange(),n=document.body.createTextRange();return n.moveToElementText(t),n.setEndPoint("EndToEnd",i),n.text.length}var e=0,a=t.createTextRange(),n=document.selection.createRange().duplicate(),r=n.getBookmark();for(a.moveToBookmark(r);0!==a.moveStart("character",-1);)e++;return e}return 0}if(-1==e&&(e=this[o?"text":"val"]().length),window.getSelection)o?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e);else if(document.body.createTextRange)if(o){var a=document.body.createTextRange();a.moveToElementText(t),a.moveStart("character",e),a.collapse(!0),a.select()}else{var a=t.createTextRange();a.move("character",e),a.select()}return o||t.focus(),e}}(jQuery),!function(e){e.fn.autoComplete=function(t){var o=e.extend({},e.fn.autoComplete.defaults,t);return"string"==typeof t?(this.each(function(){var o=e(this);"destroy"==t&&(e(window).off("resize.autocomplete",o.updateSC),o.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),o.data("autocomplete")?o.attr("autocomplete",o.data("autocomplete")):o.removeAttr("autocomplete"),e(o.data("sc")).remove(),o.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){function t(e){var t=i.val();if(i.cache[t]=e,e.length&&t.length>=o.minChars){for(var n="",a=0;a<e.length;a++)n+=o.renderItem(e[a],t);i.sc.html(n),i.updateSC(0)}else i.sc.hide()}var i=e(this);i.sc=e('<div class="autocomplete-suggestions '+o.menuClass+'"></div>'),i.data("sc",i.sc).data("autocomplete",i.attr("autocomplete")),i.attr("autocomplete","off"),i.cache={},i.last_val="",i.updateSC=function(t,o){if(i.sc.css({top:i.offset().top+i.outerHeight(),left:i.offset().left,width:i.outerWidth()+17}),!t&&(i.sc.show(),i.sc.maxHeight||(i.sc.maxHeight=parseInt(i.sc.css("max-height"))),i.sc.suggestionHeight||(i.sc.suggestionHeight=e(".autocomplete-suggestion",i.sc).first().outerHeight()),i.sc.suggestionHeight))if(o){var n=i.sc.scrollTop(),a=o.offset().top-i.sc.offset().top;a+i.sc.suggestionHeight-i.sc.maxHeight>0?i.sc.scrollTop(a+i.sc.suggestionHeight+n-i.sc.maxHeight):0>a&&i.sc.scrollTop(a+n)}else i.sc.scrollTop(0)},e(window).on("resize.autocomplete",i.updateSC),i.sc.appendTo("body"),i.sc.on("mouseleave",".autocomplete-suggestion",function(){e(".autocomplete-suggestion.selected").removeClass("selected")}),i.sc.on("mouseenter",".autocomplete-suggestion",function(){e(".autocomplete-suggestion.selected").removeClass("selected"),e(this).addClass("selected")}),i.sc.on("mousedown",".autocomplete-suggestion",function(t){var n=e(this),a=n.data("val");return(a||n.hasClass("autocomplete-suggestion"))&&(i.val(a),o.onSelect(t,a,n),i.sc.hide()),!1}),i.on("blur.autocomplete",function(){try{over_sb=e(".autocomplete-suggestions:hover").length}catch(t){over_sb=0}over_sb?i.is(":focus")||setTimeout(function(){i.focus()},20):(i.last_val=i.val(),i.sc.hide(),setTimeout(function(){i.sc.hide()},350))}),o.minChars||i.on("focus.autocomplete",function(){i.last_val="\n",i.trigger("keyup.autocomplete")}),i.on("keydown.autocomplete",function(t){if((40==t.which||38==t.which)&&i.sc.html()){var n,a=e(".autocomplete-suggestion.selected",i.sc);return a.length?(n=40==t.which?a.next(".autocomplete-suggestion"):a.prev(".autocomplete-suggestion"),n.length?(a.removeClass("selected"),i.val(n.addClass("selected").data("val"))):(a.removeClass("selected"),i.val(i.last_val),n=0)):(n=40==t.which?e(".autocomplete-suggestion",i.sc).first():e(".autocomplete-suggestion",i.sc).last(),i.val(n.addClass("selected").data("val"))),i.updateSC(0,n),!1}if(27==t.which)i.val(i.last_val).sc.hide();else if(13==t.which||9==t.which){var a=e(".autocomplete-suggestion.selected",i.sc);a.length&&i.sc.is(":visible")&&(o.onSelect(t,a.data("val"),a),setTimeout(function(){i.sc.hide()},20))}}),i.on("keyup.autocomplete",function(n){if(!~e.inArray(n.which,[13,27,35,36,37,38,39,40])){var a=i.val();if(a.length>=o.minChars){if(a!=i.last_val){if(i.last_val=a,clearTimeout(i.timer),o.cache){if(a in i.cache)return void t(i.cache[a]);for(var r=1;r<a.length-o.minChars;r++){var s=a.slice(0,a.length-r);if(s in i.cache&&!i.cache[s].length)return void t([])}}i.timer=setTimeout(function(){o.source(a,t)},o.delay)}}else i.last_val=a,i.sc.hide()}})})},e.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var o=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(o,"<b>$1</b>")+"</div>"},onSelect:function(){}}}(jQuery),!function(e){function t(e,o,n,a){function r(e){n.maxRows&&d>n.maxRows||n.truncate&&e&&d>1?f[s][0].style.display="none":(f[s][4]&&(f[s][3].attr("src",f[s][4]),f[s][4]=""),f[s][0].style.width=l+"px",f[s][0].style.height=m+"px",f[s][0].style.display="block")}var s,l,c=1,d=1,u=e.width()-2,f=[],p=0,m=n.rowHeight;for(u||(u=e.width()-2),i=0;i<o.length;i++)if(f.push(o[i]),p+=o[i][2]+n.margin,p>=u){var g=f.length*n.margin;for(c=(u-g)/(p-g),m=Math.ceil(n.rowHeight*c),exact_w=0,s=0;s<f.length;s++)l=Math.ceil(f[s][2]*c),exact_w+=l+n.margin,exact_w>u&&(l-=exact_w-u),r();f=[],p=0,d++}for(s=0;s<f.length;s++)l=Math.floor(f[s][2]*c),h=Math.floor(n.rowHeight*c),r(!0);a||u==e.width()||t(e,o,n,!0)}e.fn.flexImages=function(o){var i=e.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0},o);return this.each(function(){var o=e(this),n=e(o).find(i.container),a=[],r=(new Date).getTime(),s=window.getComputedStyle?getComputedStyle(n[0],null):n[0].currentStyle;for(i.margin=(parseInt(s.marginLeft)||0)+(parseInt(s.marginRight)||0)+(Math.round(parseFloat(s.borderLeftWidth))||0)+(Math.round(parseFloat(s.borderRightWidth))||0),j=0;j<n.length;j++){var l=n[j],c=parseInt(l.getAttribute("data-w")),d=c*(i.rowHeight/parseInt(l.getAttribute("data-h"))),u=e(l).find(i.object);a.push([l,c,d,u,u.data("src")])}t(o,a,i),e(window).off("resize.flexImages"+o.data("flex-t")),e(window).on("resize.flexImages"+r,function(){t(o,a,i)}),o.data("flex-t",r)})}}(jQuery),!function(e){e.fn.unveil=function(t){function o(){var t=r.filter(function(){var t=e(this);if(!t.is(":hidden")){var o=n.scrollTop(),i=o+n.height(),r=t.offset().top,s=r+t.height();return s>=o-a&&i+a>=r}});i=t.trigger("unveil"),r=r.not(i)}var i,n=e(window),a=t||0,r=this;return this.one("unveil",function(){var e=this.getAttribute("data-lazy"),t=this.getAttribute("data-lazy-srcset");e&&this.setAttribute("src",e),t&&this.setAttribute("srcset",t)}),n.on("scroll.unveil resize.unveil lookup.unveil",o),o(),this}}(window.jQuery),window.linkify=function(){var e="[a-z\\d.-]+://",t="(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])",o="(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+",i="(?:at|biz|com|ch|co|de|edu|es|eu|fr|gov|info|it|ly|me|mobi|nl|net|org|to|uk|us|ws)",n="(?:"+o+i+"|"+t+")",a="(?:[;/][^#?<>\\s]*)?",r="(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?",s="\\b"+e+"[^<>\\s]+",l="\\b"+n+a+r+"(?!\\w)",c="mailto:",d="(?:"+c+")?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@"+n+r+"(?!\\w)",u=new RegExp("(?:"+s+"|"+l+"|"+d+")","ig"),h=new RegExp("^"+e,"i"),f={"'":"`",">":"<",")":"(","]":"[","}":"{","»":"«","›":"‹"};return function(e,t){t=t||{};for(var o,i,n,a,r,s,l,d,p,m,g,v,w="",x=[];o=u.exec(e);)if(n=o[0],s=u.lastIndex,l=s-n.length,!/[\/:]/.test(e.charAt(l-1))){do d=n,v=n.substr(-1),g=f[v],g&&(p=n.match(new RegExp("\\"+g+"(?!$)","g")),m=n.match(new RegExp("\\"+v,"g")),(p?p.length:0)<(m?m.length:0)&&(n=n.substr(0,n.length-1),s--)),n=n.replace(/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/,function(e){return s-=e.length,""});while(n.length&&n!==d);a=n,h.test(a)||(a=(-1!==a.indexOf("@")?a.indexOf(c)?c:"":a.indexOf("irc.")?a.indexOf("ftp.")?"http://":"ftp://":"irc://")+a),r!=l&&(x.push([e.slice(r,l)]),r=s),x.push([n,a])}for(x.push([e.substr(r)]),i=0;i<x.length;i++)text=x[i][0],a=x[i][1],target=text.indexOf(window.location.hostname)>=0?"":'target="_blank" ',w+=a?"<a "+target+'href="'+a+'">'+text+"</a>":text;return w||e}}();var ww,wh,pure_menu;"ontouchstart"in window?(human_visitor=!0,$(".pure-dropdown>a").click(function(){pure_menu=$(this).parent();var e=pure_menu.toggleClass("pure-menu-open").find(".pure-menu-children").css("top",pure_menu.height());return pure_menu.offset().left+e.outerWidth()>ww&&ww>e.outerWidth()?e.css("left",pure_menu.width()-e.outerWidth()):e.css("left",0),!1}),$(document).mousedown(function(e){!pure_menu||pure_menu.is(e.target)||pure_menu.has(e.target).length||($(".pure-dropdown").removeClass("pure-menu-open"),pure_menu=!1)})):($(".pure-dropdown>a").mouseenter(function(){pure_menu=$(this).parent();var e=pure_menu.toggleClass("pure-menu-open").find(".pure-menu-children").css("top",pure_menu.height());return pure_menu.offset().left+e.outerWidth()>ww&&ww>e.outerWidth()?e.css("left",pure_menu.width()-e.outerWidth()):e.css("left",0),!1}),$(".pure-dropdown").mouseleave(function(){$(this).removeClass("pure-menu-open"),pure_menu=!1}));var mm=$("#mobile_menu"),mum=$("#mobile_user_menu");$(".mm_inc").each(function(){mm.append($(this).clone()),$(this).hasClass("mm_sep")&&mm.append('<li class="pure-menu-separator"></li>')}),$(".mum_inc").each(function(){mum.append($(this).clone().removeClass("hide-xs hide-sm hide-md"))});var ajax_anim=!1,loadingBar=$('<div id="loadingBar"><dt></dt><dd></dd></div>');loadingBar.appendTo("body").hide(),$.ajaxSetup({beforeSend:function(){ajax_anim&&(loadingBar.css("width",0),loadingBar.show())},error:function(){ajax_anim&&loadingBar.css("width","102%").addClass("error").fadeOut(500,function(){loadingBar.removeClass("error").hide()})},complete:function(e,t){"error"!=t&&loadingBar.hide(),ajax_anim=!1},xhr:function(){var e=new window.XMLHttpRequest;try{e.upload.addEventListener("progress",function(e){e.lengthComputable&&loadingBar.css("width",2+100*e.loaded/e.total+"%")},!1),e.addEventListener("progress",function(e){e.lengthComputable&&loadingBar.css("width",2+100*e.loaded/e.total+"%")},!1)}catch(t){}return e}}),$(document).on("submit",".ajax_form",function(e){e.preventDefault();var form=$(this),t=form.data("target")?$(form.data("target")):form;ajax_anim=!0,form.ajaxSubmit({success:function(re){"script:"==re.substring(0,7)?eval(re.substring(7)):form.data("replace")?t.replaceWith(re):t.html(re),resized()}})});var resizeTimer,cboxOptions={width:"95%",height:"95%",maxWidth:640,maxHeight:0,speed:180,fadeOut:150,closeButton:!1,scrolling:!1,trapFocus:!1,opacity:.5,onCleanup:function(){$.extend($.colorbox.settings,cboxOptions),$(".open_preview_img").remove()}};$.extend($.colorbox.settings,cboxOptions),$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(resized,200)}),$(document).on({mousedown:function(e){e.preventDefault();var t=$("#colorbox").offset(),o=e.pageX-t.left,i=e.pageY-t.top;$(document).on("mousemove.drag",function(e){$("#colorbox").offset({top:e.pageY-i,left:e.pageX-o})})},mouseup:function(){$(document).unbind("mousemove.drag")}},"#colorbox h6"),$(document).on("click contextmenu",".modal",function(){var that=$(this);return(null==that.data("confirm")||confirm(that.data("confirm")))&&$.get(that.data("href")||this.href,function(re){"script:"==re.substring(0,7)?eval(re.substring(7)):(that.data("w")&&($.colorbox.settings.maxWidth=that.data("w")),$.colorbox({html:re,overlayClose:null==that.data("no-overlay-close"),height:"auto",onComplete:function(){setTimeout(resized,100),$("#cboxContent h6").prepend('<a onclick="$.colorbox.close();">×</a>')}}))}),!1}),$(document).on("click",".ajax",function(){var link=$(this);return(null==link.data("confirm")||confirm(link.data("confirm")||I18N_DELETE))&&(ajax_anim=!0,$.post(this.href||$(this).data("href"),function(re){"script:"==re.substring(0,7)?eval(re.substring(7)):(link.data("target")?$(link.data("target")):link).html(re),resized()})),!1}),$(document).on("click dblclick",".remove_link",function(e){if($(this).data("dblclick")&&"click"==e.type)return!1;if(null==$(this).data("confirm")||confirm($(this).data("confirm")||I18N_DELETE)){var t=$($(this).data("target"));t.fadeOut(200,function(){t.remove()}),$.post(this.href||$(this).data("href"))}return!1}),$(document).on("click",".tab_menu li",function(){return $(this).siblings().removeClass("selected").end().addClass("selected"),!1}),$(document).on("click",".tiny_search label",function(){var e=$(this).next(),t=$(this).closest("form");t.hasClass("active")?e.hasClass("dirty")?t.submit():t.removeClass("active"):t.addClass("active")}),$(document).on("click","a[data-confirm]:not(.ajax, .modal, .remove_link)",function(){return confirm($(this).data("confirm")||I18N_DELETE)?void 0:!1});var dd_box,max_zindex=99999;$(document).on("click",".dd_box",function(){max_zindex+=1;var e=$(this);if(dd_box=e.next(),dd_box.is(":visible"))dd_box.hide(),dd_box=!1;else{$(".dd_box+div").hide();var t=(e.position().top,e.position().left);if((e.data("left")||e.offset().left+dd_box.outerWidth()>ww&&e.offset().left+e.outerWidth()-dd_box.outerWidth()>0)&&(t+=e.outerWidth()-dd_box.outerWidth()),e.data("up")||e.offset().top+e.outerHeight()+dd_box.outerHeight()>$(document).scrollTop()+wh&&e.offset().top-dd_box.outerHeight()>0)var o=e.position().top-dd_box.outerHeight()-5;else var o=e.position().top+e.outerHeight()+5;dd_box.unbind().css({position:"absolute",top:o+"px",left:t+"px",zIndex:max_zindex}).show()}return!1}),$(document).click(function(e){!dd_box||dd_box.is(e.target)||dd_box.has(e.target).length||(dd_box.hide(),dd_box=!1)});var hover_timeout,no_preview=getCookie("no_preview");$(document).on("mouseenter",".preview_img",function(e){var o=$(this),i=e.pageX,n=e.pageY;if(!no_preview||null!=o.data("force-preview")){var a=o.attr("title"),r=o.closest("a");a&&(o.data("title",a),o.attr("title","")),hover_timeout=setTimeout(function(){var e=o.data("width"),a=o.data("height"),s=parseInt(o.data("cut"))||0,c=o.data("title"),d=parseFloat(o.data("resize"));if(d)e*=d,a*=d,s*=d;else{var u=1,h=1;e>.4*ww&&(u=e/(.4*ww)),a>.5*wh&&(h=a/(.5*wh));var f=u>h?u:h;e/=f,a/=f,s/=f}if(!(300>e&&300>a||e+30>ww||a+30>wh||e+30>wh||a+30>ww||e<o.width()+30||a<o.height()+30)){r.length?preview=$('<div class="open_preview_img" style="z-index:'+(max_zindex+10)+'"><a href="'+r[0].href+'" style="display:block;position:relative;overflow:hidden;width:'+(e+2)+"px;height:"+(a+2)+'px"><img style="width:'+e+"px;height:"+(a+s)+'px" src="'+o.attr("src")+'"><img style="width:'+e+'px" src="'+o.data("url")+'"></a>'+(c?"<em>"+c+"</em>":"")+"</div>").prependTo("body"):preview=$('<div class="open_preview_img" style="z-index:'+(max_zindex+10)+'"><div style="position:relative;overflow:hidden;width:'+(e+2)+"px;height:"+(a+2)+'px"><img style="width:'+e+"px;height:"+(a+s)+'px" src="'+o.attr("src")+'"><img style="width:'+e+'px" src="'+o.data("url")+'"></div>'+(c?"<em>"+c+"</em>":"")+"</div>").prependTo("body");var p=preview.outerWidth(),m=preview.outerHeight(),g=o.offset(),v=g.left,w=g.top,x=o.width(),b=o.height(),y=v+x/2,_=w+b/2,T=$(document).scrollTop();y>ww/2&&v>=p?(l=v-15-p,t=_-m/2):ww/2>=y&&ww>=v+x+p?(l=v+15+x,t=_-m/2):_>T+wh/2?(t=w-15-m,l=y-p/2):(t=w+15+b,l=y-p/2),t<T?t=T+5:t+m>T+wh&&(t=T+wh-m-5),l<0?l=5:l+p>ww&&(l=ww-p-5),i>l&&i<l+p&&n>t&&n<t+m?preview.css({display:"block",top:t,left:l}).mouseleave(function(){$(this).remove()}):(preview.css({display:"block",top:t,left:l}),o.mouseleave(function(){$(".open_preview_img").remove()}))}},500)}}),$(document).on("mouseleave",".preview_img",function(){hover_timeout&&clearTimeout(hover_timeout)});var dl_menu;$(function(){resized(),$('.media_search [name="image_type"]').change(function(){var e=$(".media_search"),t=e.find('[name="image_type"]:checked');$(".media_search .image_type").html(t.parent().text()),"video"!=t.val()?(e.find(".image_option").show().end().find(".video_option").hide(),e.attr("action",e.attr("action").replace("/videos/list/","/photos/"))):(e.find(".image_option").hide().end(),e.find(".video_option").show(),e.attr("action",e.attr("action").replace("/photos/","/videos/list/")))}),$('.media_search [name="image_type"]').change(),setTimeout(function(){"ontouchstart"in window||window.location.hash||$(document).scrollTop()||$("[data-autofocus]").last().focus()},250),~$.inArray(LANG,["de","en","es","fr","it","ja","ko","pt"])&&$('.media_search input[name="q"]').autoComplete({onSelect:function(e){"keydown"!=e.type&&$(".media_search").submit()},source:function(e,t){try{ac_xhr.abort()}catch(o){}ac_xhr=$.ajax({url:"/es_suggest/",type:"POST",dataType:"json",data:JSON.stringify({my_suggest:{text:e,completion:{field:"suggest_"+LANG,size:8}}}),success:function(e){var o=[];$.each(e.my_suggest[0].options,function(){o.push(this.text)}),t(o)}})}}),$(document).one("mousemove",function(){human_visitor=!0}),$(document).on("mousedown","[data-go]",function(){return human_visitor?($(this).attr("href","/go/?t="+$(this).data("go")),-1==$(this).data("go").indexOf(window.location.hostname)&&"/"!=$(this).data("go").charAt(0)&&$(this).attr("target","_blank"),!1):void 0}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0})}),$(window).scroll(function(){$(this).scrollTop()>480?$("#toTop").addClass("show"):$("#toTop").removeClass("show")}),$(document).on("click",".translate",function(){var e="https://translate.google.de/#auto|"+LANG+"|"+encodeURIComponent($($(this).data("el")).text().substring(0,999));return wopen(e,800,500,"translate")}),$(".linkify").each(function(){$(this).html(linkify($(this).html()))}),$(".media_list").length?($("#paginator_clone").html($(".paginator").clone()),$("#photo_grid").length?($("#photo_grid").flexImages({rowHeight:200}),$(".flex_grid.sponsored").flexImages({maxRows:1}),no_preview||$(".toggle_preview").prop("checked",!0),$(document).on("click",".toggle_preview",function(){no_preview=!$(this).is(":checked"),setCookie("no_preview",no_preview?1:"",365),$(".toggle_preview").prop("checked",!no_preview)})):flexVideoGrid(260,0)):$("#media_show.photo").length?($("#media_container img").click(function(){$("#support_overlay").hide();var e=$("#img_click_overlay");e.show(),e.data("cloned")||e.data("cloned",1).find("#download_menu_clone").append($(".download_menu").clone(!0,!0)).end().find("#like_buttons_clone").append($(".like_buttons").clone(!0,!0)),$("#media_show .overlay").fadeIn(100)}),$("#media_show .overlay").click(function(e){if($(e.target).is("#support_overlay .pure-button, #download_menu_clone *:not(.modal)"))return void e.stopPropagation();if(!$(e.target).is("#like_buttons_clone *")){var t=$("#support_overlay").is(":visible");$(this).fadeOut(200,function(){t&&$("#support_overlay").remove()})}}),$(".dl_btn, .view_btn").click(function(){dl_menu&&dl_menu.is(":visible")&&($(this).hasClass("modal")||show_support_overlay(),setTimeout(function(){dl_menu&&dl_menu.hide()},50))}),$(".flex_grid.related_photos").flexImages({rowHeight:125,maxRows:1}),$(".flex_grid.related_photos_sidebar").flexImages({rowHeight:160,maxRows:3}),$(".flex_grid.sponsored").flexImages({rowHeight:160,maxRows:2})):$(".signup_form.new").length&&$.get("/"+LANG+"/accounts/register/ets/",function(e){$(".signup_form .data").each(function(){var t="f-"+e+"-"+$(this).attr("name");$(this).attr("name",t)||$(this).prop("name",t)}),$(".signup_form.new").show()}),$("#media_show").length&&(setTimeout(function(){$("#media_show .init").removeClass("init")},5e3),$("#media_show .init").mouseleave(function(){$(this).removeClass("init")}),$(".download_menu span").on("click contextmenu",function(){return dl_menu=$(this).next(),dl_menu.is(":visible")?dl_menu.hide():(wh-dl_menu.prev().offset().top+$(document).scrollTop()>250?dl_menu.removeClass("ne").addClass("se"):dl_menu.removeClass("se").addClass("ne"),dl_menu.width(dl_menu.prev().width()+22).show().find(".selected input").prop("checked",!0)),!1}),$(document).click(function(e){!dl_menu||dl_menu.is(e.target)||dl_menu.has(e.target).length||(dl_menu.hide(),dl_menu=null)}),$(".download_menu tr").click(function(){$(".download_menu tr").removeClass("selected");var e=$(this).find("input").eq(0);e.prop("checked",!0),$('.download_menu [value="'+e.val()+'"]').closest("tr").addClass("selected");var t=e.val(),o=e.data("perm");t.indexOf("/")<0&&(t="/"+LANG+"/"+$(".download_menu").data("type")+"/download/"+t),show_captcha&&o||!auth_user&&"auth"==o?($(".dl_btn, .view_btn").addClass("modal"),$(".dl_btn").attr("href",t+"?attachment&modal"),$(".view_btn").attr("href",t+"?modal")):($(".dl_btn, .view_btn").removeClass("modal"),$(".dl_btn").attr("href",t+"?attachment"),$(".view_btn").attr("href",t)),$(".dl_btn").attr("target",e.data("target")?"_blank":"")}),$(".download_menu tr:not(.no_default)").last().click());var e=getCookie("g_rated");e&&$(".toggle_g_rated").prop("checked",!0),$(document).on("click",".toggle_g_rated",function(){e=$(this).is(":checked"),setCookie("g_rated",e?1:"",365),$(".toggle_g_rated").prop("checked",e)})});